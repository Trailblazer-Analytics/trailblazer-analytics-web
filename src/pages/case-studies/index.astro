---
import { getCollection } from 'astro:content';
import Base from '../../layouts/Base.astro';
import Navbar from '../../components/Navbar.astro';
import Footer from '../../components/Footer.jsx';

const caseStudies = await getCollection('caseStudies');

// SEO meta data
const seoData = {
  title: "Case Studies - Real-World Analytics Success Stories",
  description: "Explore real-world case studies showcasing successful data analytics implementations, transformations, and business outcomes across various industries.",
  image: "/og-image-casestudies.png"
};
---

<Base {...seoData}>
  <Navbar />
  
  <!-- Header Section -->
  <section class="bg-gradient-to-br from-gray-900 to-gray-800 text-white py-20">
    <div class="container mx-auto px-6">
      <div class="max-w-4xl mx-auto text-center">
        <h1 class="text-5xl md:text-6xl font-bold mb-6">
          Case <span class="text-brandGold">Studies</span>
        </h1>
        <p class="text-xl md:text-2xl text-gray-300 mb-8">
          Real-world success stories showcasing the power of data-driven transformation.
        </p>
        <div class="flex flex-wrap justify-center gap-4">
          <span class="bg-brandGreen/20 text-brandGreen px-4 py-2 rounded-full">Proven Results</span>
          <span class="bg-brandGold/20 text-brandGold px-4 py-2 rounded-full">Industry Leaders</span>
          <span class="bg-blue-500/20 text-blue-400 px-4 py-2 rounded-full">Measurable ROI</span>
          <span class="bg-purple-500/20 text-purple-400 px-4 py-2 rounded-full">Best Practices</span>
        </div>
      </div>
    </div>
  </section>

  <!-- Case Studies Grid -->
  <section class="py-16 bg-gray-50">
    <div class="container mx-auto px-6">
      <div class="max-w-6xl mx-auto">
        <div class="text-center mb-12">
          <h2 class="text-3xl font-bold text-gray-900 mb-4">Success Stories</h2>
          <p class="text-lg text-gray-600">Learn from organizations that have successfully transformed their data capabilities</p>
        </div>
        
        <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
          {caseStudies.map((study) => (
            <article class="bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-xl transition-shadow duration-300">
              <div class="h-48 bg-gradient-to-br from-brandGreen to-green-600 flex items-center justify-center">
                <div class="text-center text-white">
                  <div class="w-16 h-16 bg-white/20 rounded-lg flex items-center justify-center mx-auto mb-2">
                    <svg class="w-8 h-8" fill="currentColor" viewBox="0 0 20 20">
                      <path fill-rule="evenodd" d="M4 2a2 2 0 00-2 2v11a2 2 0 002 2h12a2 2 0 002-2V4a2 2 0 00-2-2H4zm3 2h6v2H7V4zm8 6a1 1 0 100-2 1 1 0 000 2zm-8-1a1 1 0 11-2 0 1 1 0 012 0zm2 4a1 1 0 100-2 1 1 0 000 2zm2-1a1 1 0 11-2 0 1 1 0 012 0zm2 1a1 1 0 100-2 1 1 0 000 2z" clip-rule="evenodd"></path>
                    </svg>
                  </div>
                  <span class="text-sm font-medium">{study.data.industry || 'Industry'}</span>
                </div>
              </div>
              
              <div class="p-6">
                <div class="flex justify-between items-start mb-3">
                  <span class="bg-brandGreen/10 text-brandGreen px-2 py-1 rounded text-sm font-medium">
                    {study.data.client || 'Case Study'}
                  </span>
                  {study.data.featured && (
                    <span class="bg-brandGold/10 text-brandGold px-2 py-1 rounded text-sm font-medium">Featured</span>
                  )}
                </div>
                
                <h3 class="text-xl font-bold text-gray-900 mb-2">{study.data.title}</h3>
                <p class="text-gray-600 mb-4">{study.data.summary || study.data.description}</p>
                
                {study.data.technologies && (
                  <div class="flex flex-wrap gap-2 mb-4">
                    {study.data.technologies.slice(0, 3).map(tech => (
                      <span class="bg-gray-100 text-gray-600 px-2 py-1 rounded text-xs">{tech}</span>
                    ))}
                  </div>
                )}
                
                {study.data.results && study.data.results.length > 0 && (
                  <div class="mb-4">
                    <div class="text-sm font-semibold text-gray-700 mb-1">Key Results:</div>
                    <div class="text-sm text-gray-600">
                      {study.data.results[0]}
                    </div>
                  </div>
                )}
                
                <div class="flex gap-2">
                  <a 
                    href={`/case-studies/${study.slug}`}
                    class="flex-1 bg-brandGreen hover:bg-green-700 text-white font-semibold py-2 px-4 rounded-lg transition-colors text-sm text-center"
                  >
                    Read Case Study
                  </a>
                </div>
              </div>
            </article>
          ))}
        </div>
      </div>
    </div>
  </section>

  <Footer />
</Base>
