---
import Base from '../layouts/Base.astro';
import Navbar from '../components/Navbar.astro';
import Footer from '../components/Footer.jsx';

// SEO meta data
const seoData = {
  title: "Contact - Let's Connect & Collaborate",
  description: "Get in touch to discuss data and analytics topics, collaborate on projects, or connect with fellow professionals. Open to networking and knowledge sharing.",
  image: "/og-image-contact.png"
};
---

<Base {...seoData}>
  <Navbar />
    <!-- Header Section -->
  <section class="bg-gray-900 text-white py-20">
    <div class="container mx-auto px-6">
      <div class="max-w-4xl mx-auto text-center">
        <h1 class="text-4xl md:text-5xl font-bold mb-6">Let's Connect</h1>
        <p class="text-xl text-gray-300 mb-8">
          Interested in networking, collaboration, or discussing data and analytics? I'd love to hear from fellow professionals in the field.
        </p>
      </div>
    </div>
  </section>

  <!-- Contact Form Section -->
  <section class="py-20 bg-white">
    <div class="container mx-auto px-6">
      <div class="max-w-6xl mx-auto">
        <div class="grid lg:grid-cols-2 gap-16">
          <!-- Contact Form -->          <div>
            <h2 class="text-3xl font-bold text-gray-900 mb-8">Send a Message</h2>
            
            <!-- Success/Error Messages -->
            <div id="form-messages" class="mb-6 hidden">
              <div id="success-message" class="bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded-lg mb-4 hidden">
                <div class="flex items-center">                  <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                  </svg>
                  Thank you! Your message has been sent successfully. I'll get back to you within 24-48 hours.
                </div>
              </div>
              <div id="error-message" class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg mb-4 hidden">
                <div class="flex items-center">
                  <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                  </svg>
                  <span id="error-text">Something went wrong. Please try again.</span>
                </div>
              </div>
            </div>
            
            <form id="contact-form" class="space-y-6">
              <div class="grid md:grid-cols-2 gap-6">
                <div>
                  <label for="name" class="block text-sm font-medium text-gray-700 mb-2">Full Name</label>
                  <input type="text" id="name" name="name" required 
                         class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brandGreen focus:border-transparent">
                </div>              <div>
                <label for="organization" class="block text-sm font-medium text-gray-700 mb-2">Organization/Role</label>
                <input type="text" id="organization" name="organization" 
                       placeholder="Your company, title, or 'Individual'"
                       class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brandGreen focus:border-transparent">
              </div>
              </div>
              
              <div>
                <label for="email" class="block text-sm font-medium text-gray-700 mb-2">Email Address</label>
                <input type="email" id="email" name="email" required 
                       class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brandGreen focus:border-transparent">
              </div>
                <div>
                <label for="inquiry-type" class="block text-sm font-medium text-gray-700 mb-2">What's this about?</label>
                <select id="inquiry-type" name="inquiryType" 
                        class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brandGreen focus:border-transparent">
                  <option value="">Select an option</option>
                  <option value="collaboration">Collaboration Opportunity</option>
                  <option value="content-feedback">Content Feedback</option>
                  <option value="tool-request">Tool/Resource Request</option>
                  <option value="guest-podcast">Podcast Guest Invitation</option>
                  <option value="speaking">Speaking Opportunity</option>
                  <option value="networking">Professional Networking</option>
                  <option value="other">Other</option>
                </select>
              </div>
                <div>
                <label for="message" class="block text-sm font-medium text-gray-700 mb-2">Your Message</label>
                <textarea id="message" name="message" required rows="6" 
                          placeholder="Share your thoughts, feedback, collaboration ideas, or questions..."
                          class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brandGreen focus:border-transparent"></textarea>
              </div>
              
              <!-- Honeypot field for spam protection -->
              <input type="text" name="honeypot" style="display:none" tabindex="-1" autocomplete="off" />
              
              <button type="submit" id="submit-btn" class="w-full bg-brandGreen text-white py-4 px-6 rounded-lg font-semibold hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed">
                <span id="submit-text">Send Message</span>
                <span id="submit-loading" class="hidden flex items-center justify-center">
                  <svg class="animate-spin -ml-1 mr-3 h-5 w-5 text-white" fill="none" viewBox="0 0 24 24">
                    <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                    <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                  </svg>
                  Sending...
                </span>
              </button>
            </form>
          </div>
          
          <!-- Contact Information -->
          <div class="lg:pl-8">
            <h2 class="text-3xl font-bold text-gray-900 mb-8">Get in Touch</h2>
            
            <div class="space-y-8">
              <div class="flex items-start gap-4">
                <div class="bg-brandGreen p-3 rounded-lg">
                  <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
                  </svg>
                </div>
                <div>
                  <h3 class="text-lg font-semibold text-gray-900 mb-2">Email</h3>
                  <p class="text-gray-600">hello@trailblazer-analytics.com</p>
                  <p class="text-gray-500 text-sm">We'll respond within 24 hours</p>
                </div>
              </div>
              
              <div class="flex items-start gap-4">
                <div class="bg-brandGreen p-3 rounded-lg">
                  <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                  </svg>
                </div>                <div>
                  <h3 class="text-lg font-semibold text-gray-900 mb-2">Response Time</h3>
                  <p class="text-gray-600">24-48 hours</p>
                  <p class="text-gray-500 text-sm">I read and respond to every message personally</p>
                </div>
              </div>
              
              <div class="flex items-start gap-4">
                <div class="bg-brandGreen p-3 rounded-lg">
                  <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path>
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>
                  </svg>
                </div>                <div>
                  <h3 class="text-lg font-semibold text-gray-900 mb-2">Connect</h3>
                  <p class="text-gray-600">Global network</p>
                  <p class="text-gray-500 text-sm">Building connections across the analytics community</p>
                </div>
              </div>
            </div>
              <!-- Quick Links -->
            <div class="mt-12 p-6 bg-gray-50 rounded-lg">
              <h3 class="text-lg font-semibold text-gray-900 mb-4">Explore More</h3>
              <div class="space-y-3">
                <a href="/tools" class="flex items-center text-brandGreen hover:text-green-700 transition-colors">
                  <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                  </svg>
                  Analytics Tools
                </a>
                <a href="/articles" class="flex items-center text-brandGreen hover:text-green-700 transition-colors">
                  <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                  </svg>
                  Latest Insights
                </a>
                <a href="/podcast" class="flex items-center text-brandGreen hover:text-green-700 transition-colors">
                  <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                  </svg>
                  Podcast Episodes
                </a>
                <a href="/downloads" class="flex items-center text-brandGreen hover:text-green-700 transition-colors">
                  <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                  </svg>
                  Free Resources
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- FAQ Section -->
  <section class="py-16 bg-gray-50">
    <div class="container mx-auto px-6">
      <div class="max-w-4xl mx-auto">        <h2 class="text-3xl font-bold text-gray-900 text-center mb-12">Common Questions</h2>
        
        <div class="space-y-6">
          <div class="bg-white rounded-lg p-6 shadow-sm">
            <h3 class="text-lg font-semibold text-gray-900 mb-2">Do you offer consulting services?</h3>
            <p class="text-gray-600">I'm currently focused on thought leadership, content creation, and tool development. While I'm not taking on new consulting projects, I'm always open to collaboration opportunities and knowledge sharing.</p>
          </div>
          
          <div class="bg-white rounded-lg p-6 shadow-sm">
            <h3 class="text-lg font-semibold text-gray-900 mb-2">Can I contribute content or suggest topics?</h3>
            <p class="text-gray-600">Absolutely! I welcome content ideas, topic suggestions, and collaboration opportunities. If you have insights to share or areas you'd like me to explore, please reach out.</p>
          </div>
          
          <div class="bg-white rounded-lg p-6 shadow-sm">
            <h3 class="text-lg font-semibold text-gray-900 mb-2">Are you available for speaking engagements or podcasts?</h3>
            <p class="text-gray-600">Yes! I enjoy sharing knowledge at conferences, webinars, and on podcasts. If you're organizing an analytics-focused event or need a guest speaker, I'd love to hear from you.</p>
          </div>
          
          <div class="bg-white rounded-lg p-6 shadow-sm">
            <h3 class="text-lg font-semibold text-gray-900 mb-2">How can I stay updated with your latest content?</h3>
            <p class="text-gray-600">Subscribe to the newsletter for weekly insights, follow along on social media, or check back regularly for new blog posts, tools, and resources. All content is designed to help analytics professionals advance their careers.</p>
          </div>
        </div>
      </div>
    </div>  </section>

  <Footer />
</Base>

<script>
  // Contact form submission handler
  document.addEventListener('DOMContentLoaded', function() {
    const form = document.getElementById('contact-form');
    const submitBtn = document.getElementById('submit-btn');
    const submitText = document.getElementById('submit-text');
    const submitLoading = document.getElementById('submit-loading');
    const formMessages = document.getElementById('form-messages');
    const successMessage = document.getElementById('success-message');
    const errorMessage = document.getElementById('error-message');
    const errorText = document.getElementById('error-text');
    
    if (form) {      form.addEventListener('submit', async function(e) {
        e.preventDefault();
        
        // Check honeypot for spam protection
        const honeypot = form.querySelector('input[name="honeypot"]') as HTMLInputElement;
        if (honeypot && honeypot.value) {
          return; // Likely spam, ignore submission
        }
        
        // Show loading state
        (submitBtn as HTMLButtonElement).disabled = true;
        submitText.classList.add('hidden');
        submitLoading.classList.remove('hidden');
        
        // Hide previous messages
        formMessages.classList.add('hidden');
        successMessage.classList.add('hidden');
        errorMessage.classList.add('hidden');
        
        try {
          // Collect form data
          const formData = new FormData(form as HTMLFormElement);
          const data = Object.fromEntries(formData);
          
          // Submit to API
          const response = await fetch('/api/contact', {
            method: 'POST',
            headers: {
              'Content-Type': 'application/json',
            },
            body: JSON.stringify(data),
          });
          
          const result = await response.json();
          
          if (response.ok) {
            // Success
            successMessage.classList.remove('hidden');
            formMessages.classList.remove('hidden');
            (form as HTMLFormElement).reset();
          } else {
            // Error
            errorText.textContent = result.error || 'Something went wrong. Please try again.';
            errorMessage.classList.remove('hidden');
            formMessages.classList.remove('hidden');
          }
        } catch (error) {
          console.error('Form submission error:', error);
          errorText.textContent = 'Network error. Please check your connection and try again.';
          errorMessage.classList.remove('hidden');
          formMessages.classList.remove('hidden');
        } finally {
          // Reset button state
          (submitBtn as HTMLButtonElement).disabled = false;
          submitText.classList.remove('hidden');
          submitLoading.classList.add('hidden');
        }
      });
    }
  });
</script>
